(function(){var t=function(t,n){function r(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t},e={}.hasOwnProperty;!function(t){var e;e="object"==typeof self&&("undefined"!=typeof self&&null!==self?self.self:void 0)===self?self:"object"==typeof global&&("undefined"!=typeof global&&null!==global?global.global:void 0)===global?global:void 0,"function"==typeof define&&define.amd?define(["yess","lodash","exports"],function(n){return e.PropertyAccessors=t(e,Object,Error,n)}):"object"==typeof module&&null!==module&&null!=module.exports&&"object"==typeof module.exports?module.exports=t(e,Object,Error,require("yess"),require("lodash")):e.PropertyAccessors=t(e,Object,Error,e._)}(function(e,n,r,i){var s,o,u,c,h,p,a,l,f,y,g,d,_;return s=function(){function t(){}var e,r;return e=n.defineProperty,r=n.prototype.hasOwnProperty,t.prototype.define=function(){return e(this.target,this.property,{get:this.publicGetter(),set:this.publicSetter(),enumerable:!0,configurable:!0}),this.options.silent?e(this.target,"_"+this.property,{writable:!0,enumerable:!1,configurable:!0}):(e(this.target,"_"+this.property,{get:this.shadowGetter(),set:this.shadowSetter(),enumerable:!1,configurable:!0}),r.call(this.target,"__"+this.property)||e(this.target,"__"+this.property,{enumerable:!1,writable:!0,configurable:!1})),"function"==typeof this.configureDependencies&&this.configureDependencies(),this},t.prototype.publicGetter=function(){return this.getter?this.options.memo?"string"==typeof this.getter?function(t,e){return function(){var n;return null==this[n="_"+e]&&(this[n]=this[t]()),this["_"+e]}}(this.getter,this.property):function(t,e){return function(){var n;return null==this[n="_"+e]&&(this[n]=t.call(this)),this["_"+e]}}(this.getter,this.property):"string"==typeof this.getter?function(t){return function(){return this[t]()}}(this.getter):this.getter:function(t){return function(){return this["_"+t]}}(this.property)},t.prototype.publicSetter=function(){return this.options.readonly?function(t,e){return function(){throw new e(this,t)}}(this.property,l):this.setter?"string"==typeof this.setter?function(t){return function(e){this[t](e)}}(this.setter):this.setter:function(t){return function(e){this["_"+t]=e}}(this.property)},t.prototype.shadowGetter=function(){return function(t){return function(){return this["__"+t]}}(this.property)},t.prototype.shadowSetter=function(){return function(t,e){return function(n){var r;r=this["__"+e],t(n,r)||(this["__"+e]=n,this.notify("change:"+e,this,n,r))}}(f,this.property)},t}(),a=function(e){function n(t,e,r,i,s){this.Class=t,this.property=e,this.getter=r,this.setter=i,this.options=s,n.__super__.constructor.apply(this,arguments),this.prototype=this.Class.prototype,this.target=this.prototype,this.initializerKey="properties:events:"+this.property}return t(n,e),n.prototype.configureDependencies=function(){var t;return this.Class.deleteInitializer(this.initializerKey),this.getter&&!this.options.silent&&(null!=(t=this.options.dependencies)?t.length:void 0)>0?this.Class.initializer(this.initializerKey,function(t,e){return function(){this.on(e,function(){this["__"+t]=null,this[""+t]})}}(this.property,g(this.options.dependencies))):void 0},n}(s),c=function(e){function n(t,e,r,i,s){this.object=t,this.property=e,this.getter=r,this.setter=i,this.options=s,n.__super__.constructor.apply(this,arguments),this.target=this.object,this.callbackKey=this.property+"Callback"}return t(n,e),n.prototype.configureDependencies=function(){var t;return this.target[this.callbackKey]&&(this.object.off(null,this.target[this.callbackKey]),delete this.target[this.callbackKey]),this.getter&&!this.options.silent&&(null!=(t=this.options.dependencies)?t.length:void 0)>0?(this.target[this.callbackKey]=function(t){return function(){this["__"+t]=null,this[t]}}(this.property),this.object.on(g(this.options.dependencies),fn)):void 0},n}(s),f=function(t){var e,n;return n=t.wasConstructed,e=t.isEqual,function(t,r){return n(t)?t===r:e(t,r)}}(i),g=function(t){var e,n,r,i;for(i=[],n=0,r=t.length;r>n;n++)e=t[n],i.push("change:"+e);return i.join(" ")},d=function(t){var e;return e=t.wasConstructed,function(t){return(e(t)?t.constructor.name||t:t).toString()}}(i),_=function(t){return"[Properties] "+t},u=function(e){function n(){var t;n.__super__.constructor.call(this,this.message),null!=(t="function"==typeof r.captureStackTrace?r.captureStackTrace(this,this.name):void 0)||(this.stack=(new r).stack)}return t(n,e),n}(r),o=function(e){function n(t){this.name="ArgumentError",this.message=_(t),n.__super__.constructor.apply(this,arguments)}return t(n,e),n}(u),p=function(e){function n(){this.name="InvalidTargetError",this.message=_("Can't define property on null or undefined"),n.__super__.constructor.apply(this,arguments)}return t(n,e),n}(u),h=function(e){function n(t){this.name="InvalidPropertyError",this.message=_("Invalid property name: '"+t+"'"),n.__super__.constructor.apply(this,arguments)}return t(n,e),n}(u),l=function(e){function n(t,e){this.name="ReadonlyPropertyError",this.message=_("Property "+d(t)+"#"+e+" is readonly"),n.__super__.constructor.apply(this,arguments)}return t(n,e),n}(u),y=function(t){var e,n,r,i,s;return r=t.isFunction,s=t.isString,n=t.isClass,i=t.isObject,e=function(t){return s(t)||r(t)},function(t,r,u,l){var f,y,g,d,_,b,m;if(null==t)throw new p;if(!s(r))throw new h(r);switch(g=!1,_=!1,arguments.length){case 2:break;case 3:if(e(u))y=u;else{if(!i(u))throw new o("Expected object but given "+u);y=u.get,b=u.set,g=u.memo,_=u.readonly,f=u.depends,m=u.silent}break;case 4:if(!i(u)||!e(l))throw new o("Expected object and accessor (function or function name) but given "+u+" and "+l);g=u.memo,_=u.readonly,f=u.depends,m=u.silent,y=l;break;default:throw new o("Too many arguments given")}return e(y)||(y=null),e(b)||(b=null),g=!!g,_=!!_,d={memo:g,readonly:_,dependencies:f,silent:m},n(t)?new a(t,r,y,b,d).define():new c(t,r,y,b,d).define()}}(i),{VERSION:"1.0.8",define:y,InstanceMembers:{},ClassMembers:{property:function(t){var e,n;return e=t.every,n=t.isString,function(){var t,r,i,s,o,u;for(t=[],s=arguments.length,i=-1;++i<s;)t.push(arguments[i]);if(e(t,function(t){return n(t)}))for(r=0,o=t.length;o>r;r++)u=t[r],y(this,u);else t.unshift(this),y.apply(null,t)}}(i)}}})}).call(this);
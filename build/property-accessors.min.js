(function(){var extend=function(t,e){function n(){this.constructor=t}for(var r in e)hasProp.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},hasProp={}.hasOwnProperty;!function(factory){var root;root="object"==typeof self&&("undefined"!=typeof self&&null!==self?self.self:void 0)===self?self:"object"==typeof global&&("undefined"!=typeof global&&null!==global?global.global:void 0)===global?global:void 0,"function"==typeof define&&define.amd?define(["yess","lodash","exports"],function(_){return root.PropertyAccessors=factory(root,Object,Error,eval,_)}):"object"==typeof module&&null!==module&&null!=module.exports&&"object"==typeof module.exports?module.exports=factory(root,Object,Error,eval,require("yess"),require("lodash")):root.PropertyAccessors=factory(root,Object,Error,eval,root._)}(function(t,e,n,r,i){var o,s,u,p,a,c,h,l,f,y,d,g,_;return o=function(){function t(){}var n,i;return n=e.defineProperty,i=e.prototype.hasOwnProperty,t.prototype.define=function(){return n(this.target,this.property,{get:this.publicGetter(),set:this.publicSetter(),enumerable:!0,configurable:!0}),this.options.silent?n(this.target,"_"+this.property,{writable:!0,enumerable:!1,configurable:!0}):(n(this.target,"_"+this.property,{get:this.shadowGetter(),set:this.shadowSetter(),enumerable:!1,configurable:!0}),i.call(this.target,"__"+this.property)||n(this.target,"__"+this.property,{enumerable:!1,writable:!0,configurable:!1})),"function"==typeof this.configureDependencies&&this.configureDependencies(),this},t.prototype.publicGetter=function(){return this.getter?this.options.memo?"string"==typeof this.getter?(r(' function fn() {\n  if (null == this["_'+this.property+'"]) { this["_'+this.property+'"] = this["'+this.getter+'"](); }\n  return this["_'+this.property+'"];\n}'),fn):function(t,e){return function(){var n;return null==this[n="_"+e]&&(this[n]=t.call(this)),this["_"+e]}}(this.getter,this.property):"string"==typeof this.getter?(r(' function fn() { return this["'+this.getter+'"](); } '),fn):this.getter:(r(' function fn() { return this["_'+this.property+'"]; } '),fn)},t.prototype.publicSetter=function(){return this.options.readonly?function(t,e){return function(){throw new e(this,t)}}(this.property,l):this.setter?"string"==typeof this.setter?(r(' function fn(value) { this["'+this.setter+'"](value); } '),fn):this.setter:(r(' function fn(value) { this["_'+this.property+'"] = value; } '),fn)},t.prototype.shadowGetter=function(){return r(' function fn() { return this["__'+this.property+'"]; } '),fn},t.prototype.shadowSetter=function(){return function(t,e){return function(n){var r;r=this["__"+e],t(n,r)||(this["__"+e]=n,this.notify("change:"+e,this,n,r))}}(f,this.property)},t}(),h=function(t){function e(t,n,r,i,o){this.Class=t,this.property=n,this.getter=r,this.setter=i,this.options=o,e.__super__.constructor.apply(this,arguments),this.prototype=this.Class.prototype,this.target=this.prototype,this.initializerKey="properties:events:"+this.property}return extend(e,t),e.prototype.configureDependencies=function(){var t;return this.Class.deleteInitializer(this.initializerKey),this.getter&&!this.options.silent&&(null!=(t=this.options.dependencies)?t.length:void 0)>0?(r('function fn() {\n  this.on("'+d(this.options.dependencies)+'", function() {\n    this["__'+this.property+'"] = null;\n    this["'+this.property+'"];\n  });\n}'),this.Class.initializer(this.initializerKey,fn)):void 0},e}(o),p=function(t){function e(t,n,r,i,o){this.object=t,this.property=n,this.getter=r,this.setter=i,this.options=o,e.__super__.constructor.apply(this,arguments),this.target=this.object,this.callbackKey=this.property+"Callback"}return extend(e,t),e.prototype.configureDependencies=function(){var t;return this.target[this.callbackKey]&&(this.object.off(null,this.target[this.callbackKey]),delete this.target[this.callbackKey]),this.getter&&!this.options.silent&&(null!=(t=this.options.dependencies)?t.length:void 0)>0?(r(' function fn() {\n  this["__'+this.property+'"] = null;\n  this["'+this.property+'"];\n}'),this.target[this.callbackKey]=fn,this.object.on(d(this.options.dependencies),fn)):void 0},e}(o),f=function(t){var e,n;return n=t.wasConstructed,e=t.isEqual,function(t,r){return n(t)?t===r:e(t,r)}}(i),d=function(t){var e,n,r,i;for(i=[],n=0,r=t.length;r>n;n++)e=t[n],i.push("change:"+e);return i.join(" ")},g=function(t){var e;return e=t.wasConstructed,function(t){return(e(t)?t.constructor.name||t:t).toString()}}(i),_=function(t){return"[Properties] "+t},u=function(t){function e(){var t;e.__super__.constructor.call(this,this.message),null!=(t="function"==typeof n.captureStackTrace?n.captureStackTrace(this,this.name):void 0)||(this.stack=(new n).stack)}return extend(e,t),e}(n),s=function(t){function e(t){this.name="ArgumentError",this.message=_(t),e.__super__.constructor.apply(this,arguments)}return extend(e,t),e}(u),c=function(t){function e(){this.name="InvalidTargetError",this.message=_("Can't define property on null or undefined"),e.__super__.constructor.apply(this,arguments)}return extend(e,t),e}(u),a=function(t){function e(t){this.name="InvalidPropertyError",this.message=_("Invalid property name: '"+t+"'"),e.__super__.constructor.apply(this,arguments)}return extend(e,t),e}(u),l=function(t){function e(t,n){this.name="ReadonlyPropertyError",this.message=_("Property "+g(t)+"#"+n+" is readonly"),e.__super__.constructor.apply(this,arguments)}return extend(e,t),e}(u),y=function(t){var e,n,r,i,o;return r=t.isFunction,o=t.isString,n=t.isClass,i=t.isObject,e=function(t){return o(t)||r(t)},function(t,r,u,l){var f,y,d,g,_,b,m;if(null==t)throw new c;if(!o(r))throw new a(r);switch(d=!1,_=!1,arguments.length){case 2:break;case 3:if(e(u))y=u;else{if(!i(u))throw new s("Expected object but given "+u);y=u.get,b=u.set,d=u.memo,_=u.readonly,f=u.depends,m=u.silent}break;case 4:if(!i(u)||!e(l))throw new s("Expected object and accessor (function or function name) but given "+u+" and "+l);d=u.memo,_=u.readonly,f=u.depends,m=u.silent,y=l;break;default:throw new s("Too many arguments given")}return e(y)||(y=null),e(b)||(b=null),d=!!d,_=!!_,g={memo:d,readonly:_,dependencies:f,silent:m},n(t)?new h(t,r,y,b,g).define():new p(t,r,y,b,g).define()}}(i),{VERSION:"1.0.6",define:y,InstanceMembers:{},ClassMembers:{property:function(t){var e,n;return e=t.every,n=t.isString,function(){var t,r,i,o,s,u;for(t=[],o=arguments.length,i=-1;++i<o;)t.push(arguments[i]);if(e(t,function(t){return n(t)}))for(r=0,s=t.length;s>r;r++)u=t[r],y(this,u);else t.unshift(this),y.apply(null,t)}}(i)}}})}).call(this);
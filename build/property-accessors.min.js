(function(){var t=function(t,r){function n(){this.constructor=t}for(var i in r)e.call(r,i)&&(t[i]=r[i]);return n.prototype=r.prototype,t.prototype=new n,t.__super__=r.prototype,t},e={}.hasOwnProperty;!function(t){var e;e="object"==typeof self&&null!==self&&self.self===self?self:"object"==typeof global&&null!==global&&global.global===global?global:void 0,"function"==typeof define&&"object"==typeof define.amd&&null!==define.amd?define(["yess","lodash","exports"],function(r){return e.PropertyAccessors=t(e,Object,Error,r)}):"object"==typeof module&&null!==module&&"object"==typeof module.exports&&null!==module.exports?module.exports=t(e,Object,Error,require("yess"),require("lodash")):e.PropertyAccessors=t(e,Object,Error,e._)}(function(e,r,n,i){var s,o,u,c,h,l,p,a,f,y,b,d,g;return s=function(){function t(){}var e,n;return e=r.defineProperty,n=r.prototype.hasOwnProperty,t.prototype.define=function(){return e(this.target,this.property,{get:this.publicGetter(),set:this.publicSetter(),enumerable:!0,configurable:!0}),this.options.silent?e(this.target,"_"+this.property,{writable:!0,enumerable:!1,configurable:!0}):(e(this.target,"_"+this.property,{get:this.shadowGetter(),set:this.shadowSetter(),enumerable:!1,configurable:!0}),n.call(this.target,"__"+this.property)||e(this.target,"__"+this.property,{enumerable:!1,writable:!0,configurable:!1})),"function"==typeof this.configureDependencies&&this.configureDependencies(),this},t.prototype.publicGetter=function(){return this.getter?this.options.memo?"string"==typeof this.getter?function(t,e){return function(){var r;return null==this[r="_"+e]&&(this[r]=this[t]()),this["_"+e]}}(this.getter,this.property):function(t,e){return function(){var r;return null==this[r="_"+e]&&(this[r]=t.call(this)),this["_"+e]}}(this.getter,this.property):"string"==typeof this.getter?function(t){return function(){return this[t]()}}(this.getter):this.getter:function(t){return function(){return this["_"+t]}}(this.property)},t.prototype.publicSetter=function(){return this.options.readonly?function(t,e){return function(){throw new e(this,t)}}(this.property,a):this.setter?"string"==typeof this.setter?function(t){return function(e){this[t](e)}}(this.setter):this.setter:function(t){return function(e){this["_"+t]=e}}(this.property)},t.prototype.shadowGetter=function(){return function(t){return function(){return this["__"+t]}}(this.property)},t.prototype.shadowSetter=function(){return function(t,e){return function(r){var n;n=this["__"+e],t(r,n)||(this["__"+e]=r,this.notify("change:"+e,this,r,n))}}(f,this.property)},t}(),p=function(e){function r(t,e,n,i,s){this.Class=t,this.property=e,this.getter=n,this.setter=i,this.options=s,r.__super__.constructor.apply(this,arguments),this.prototype=this.Class.prototype,this.target=this.prototype,this.initializerKey="properties:events:"+this.property}return t(r,e),r.prototype.configureDependencies=function(){var t,e;return"function"==typeof(t=this.Class).deleteInitializer&&t.deleteInitializer(this.initializerKey),this.getter&&!this.options.silent&&(null!=(e=this.options.dependencies)?e.length:void 0)>0?this.Class.initializer(this.initializerKey,function(t,e){return function(){this.on(e,function(){this["__"+t]=null,this[""+t]})}}(this.property,b(this.options.dependencies))):void 0},r}(s),c=function(e){function r(t,e,n,i,s){this.object=t,this.property=e,this.getter=n,this.setter=i,this.options=s,r.__super__.constructor.apply(this,arguments),this.target=this.object,this.callbackKey=this.property+"Callback"}return t(r,e),r.prototype.configureDependencies=function(){var t;if(this.target[this.callbackKey]){if(!("undefined"!=typeof PublisherSubscriber&&null!==PublisherSubscriber?PublisherSubscriber.isEventable(this):void 0))throw new u("Object must include PublisherSubscriber");this.object.off(null,this.target[this.callbackKey]),delete this.target[this.callbackKey]}if(this.getter&&!this.options.silent&&(null!=(t=this.options.dependencies)?t.length:void 0)>0){if(!("undefined"!=typeof PublisherSubscriber&&null!==PublisherSubscriber?PublisherSubscriber.isEventable(this):void 0))throw new u("Object must include PublisherSubscriber");return this.target[this.callbackKey]=function(t){return function(){this["__"+t]=null,this[t]}}(this.property),this.object.on(b(this.options.dependencies),fn)}},r}(s),f=function(t){var e,r;return r=t.wasConstructed,e=t.isEqual,function(t,n){return r(t)?t===n:e(t,n)}}(i),b=function(t){var e,r,n,i;for(i=[],r=0,n=t.length;n>r;r++)e=t[r],i.push("change:"+e);return i.join(" ")},d=function(t){var e;return e=t.wasConstructed,function(t){return(e(t)?t.constructor.name||t:t).toString()}}(i),g=function(t){return"[Properties] "+t},u=function(e){function r(){var t;r.__super__.constructor.call(this,this.message),null!=(t="function"==typeof n.captureStackTrace?n.captureStackTrace(this,this.name):void 0)||(this.stack=(new n).stack)}return t(r,e),r}(n),o=function(e){function r(t){this.name="ArgumentError",this.message=g(t),r.__super__.constructor.apply(this,arguments)}return t(r,e),r}(u),l=function(e){function r(){this.name="InvalidTargetError",this.message=g("Can't define property on null or undefined"),r.__super__.constructor.apply(this,arguments)}return t(r,e),r}(u),h=function(e){function r(t){this.name="InvalidPropertyError",this.message=g("Invalid property name: '"+t+"'"),r.__super__.constructor.apply(this,arguments)}return t(r,e),r}(u),a=function(e){function r(t,e){this.name="ReadonlyPropertyError",this.message=g("Property "+d(t)+"#"+e+" is readonly"),r.__super__.constructor.apply(this,arguments)}return t(r,e),r}(u),y=function(t){var e,r,n,i,s;return n=t.isFunction,s=t.isString,r=t.isClass,i=t.isObject,e=function(t){return s(t)||n(t)},function(t,n,u,a){var f,y,b,d,g,_,m;if(null==t)throw new l;if(!s(n))throw new h(n);switch(b=!1,g=!1,arguments.length){case 2:break;case 3:if(e(u))y=u;else{if(!i(u))throw new o("Expected object but given "+u);y=u.get,_=u.set,b=u.memo,g=u.readonly,f=u.depends,m=u.silent}break;case 4:if(!i(u)||!e(a))throw new o("Expected object and accessor (function or function name) but given "+u+" and "+a);b=u.memo,g=u.readonly,f=u.depends,m=u.silent,y=a;break;default:throw new o("Too many arguments given")}return e(y)||(y=null),e(_)||(_=null),b=!!b,g=!!g,d={memo:b,readonly:g,dependencies:f,silent:m},r(t)?new p(t,n,y,_,d).define():new c(t,n,y,_,d).define()}}(i),{VERSION:"1.0.10",define:y,InstanceMembers:{},ClassMembers:{property:function(t){var e,r;return e=t.every,r=t.isString,function(){var t,n,i,s,o,u,c,h,l,p,a;for(t=[],o=arguments.length,i=-1;++i<o;)t.push(arguments[i]);if(e(t,r))for(n=0,u=t.length;u>n;n++)h=t[n],y(this,h);else{for(p=[],i=-1;++i<o&&r(t[i]);)p.push(t[i]);for(a=t.slice(p.length),s=0,c=p.length;c>s;s++)l=p[s],y.apply(null,[this].concat(l,a))}}}(i)}}})}).call(this);